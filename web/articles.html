<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NewsBalancer - Unbiased news aggregation with AI-powered bias detection">
    <meta name="author" content="NewsBalancer">
    <meta name="robots" content="index, follow">

    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline' fonts.googleapis.com; font-src 'self' fonts.gstatic.com; script-src 'self'; connect-src 'self'; img-src 'self' data:;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">

    <!-- CSS -->
    <link rel="stylesheet" href="/css/main.css">

    <title>Articles - NewsBalancer</title>
</head>
<body>
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Header with Navigation -->
    <header class="header" role="banner">
        <nav class="container" aria-label="Main navigation">
            <div class="flex items-center justify-between py-4">
                <div class="nav-brand">
                    <a href="/articles" class="text-2xl font-bold text-primary">
                        NewsBalancer
                    </a>
                </div>
                <ul class="flex space-x-6" role="menubar">
                    <li role="none">
                        <a href="/articles"
                           role="menuitem"
                           aria-current="page"
                           class="nav-link nav-link--active">
                            Articles
                        </a>
                    </li>
                    <li role="none">
                        <a href="/admin"
                           role="menuitem"
                           class="nav-link">
                            Admin
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="container py-8" role="main">
        <!-- Search and Filter Section -->
        <section class="search-filters mb-8" aria-label="Search and filters">
            <div class="flex flex-col md:flex-row gap-4 items-center justify-between">
                <div class="search-box flex-1">
                    <label for="article-search" class="sr-only">Search articles</label>
                    <input type="search"
                           id="article-search"
                           placeholder="Search articles..."
                           class="search-input w-full"
                           aria-describedby="search-help">
                    <div id="search-help" class="sr-only">
                        Search through article titles, content, and sources
                    </div>
                </div>

                <div class="filters flex gap-4">
                    <div class="filter-group">
                        <label for="source-filter" class="sr-only">Filter by source</label>
                        <select id="source-filter" class="filter-select">
                            <option value="">All Sources</option>
                            <option value="cnn">CNN</option>
                            <option value="fox">Fox News</option>
                            <option value="reuters">Reuters</option>
                            <option value="ap">Associated Press</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="bias-filter" class="sr-only">Filter by bias</label>
                        <select id="bias-filter" class="filter-select">
                            <option value="all">All Bias Levels</option>
                            <option value="left">Left Leaning</option>
                            <option value="center">Center</option>
                            <option value="right">Right Leaning</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="date-filter" class="sr-only">Filter by date</label>
                        <select id="date-filter" class="filter-select">
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                            <option value="all">All Time</option>
                        </select>
                    </div>
                </div>
            </div>
        </section>

        <!-- View Toggle -->
        <section class="view-controls mb-6" aria-label="View options">
            <div class="flex items-center justify-between">
                <div class="view-toggle" role="group" aria-label="View layout">
                    <button type="button"
                            class="view-toggle-btn view-toggle-btn--active"
                            data-view="grid"
                            aria-pressed="true">
                        <span class="sr-only">Grid view</span>
                        Grid
                    </button>
                    <button type="button"
                            class="view-toggle-btn"
                            data-view="list"
                            aria-pressed="false">
                        <span class="sr-only">List view</span>
                        List
                    </button>
                </div>

                <div class="sort-controls">
                    <label for="sort-select" class="sr-only">Sort articles</label>
                    <select id="sort-select" class="filter-select">
                        <option value="date-desc">Latest First</option>
                        <option value="date-asc">Oldest First</option>
                        <option value="bias">By Bias Score</option>
                        <option value="source">By Source</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- Articles Grid -->
        <section class="articles-section" aria-label="Articles">
            <div class="articles-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="articles-container">
                <!-- Article cards will be dynamically loaded here -->
                <div class="loading-placeholder" aria-live="polite">
                    <p>Loading articles...</p>
                </div>
            </div>
        </section>

        <!-- Pagination -->
        <nav class="pagination mt-12" aria-label="Articles pagination" role="navigation">
            <div class="flex items-center justify-between">
                <div class="pagination-info text-sm text-secondary">
                    <span id="pagination-status" aria-live="polite">
                        Showing 1-20 of 156 articles
                    </span>
                </div>

                <div class="pagination-controls flex gap-2">
                    <button type="button"
                            class="pagination-btn pagination-btn--prev"
                            disabled
                            aria-label="Go to previous page">
                        Previous
                    </button>

                    <div class="pagination-numbers flex gap-1" role="group" aria-label="Page numbers">
                        <button type="button" class="pagination-number pagination-number--active" aria-current="page">1</button>
                        <button type="button" class="pagination-number">2</button>
                        <button type="button" class="pagination-number">3</button>
                        <span class="pagination-ellipsis">…</span>
                        <button type="button" class="pagination-number">8</button>
                    </div>

                    <button type="button"
                            class="pagination-btn pagination-btn--next"
                            aria-label="Go to next page">
                        Next
                    </button>
                </div>
            </div>
        </nav>
    </main>

    <!-- Footer -->
    <footer class="footer mt-16 py-8 border-t" role="contentinfo">
        <div class="container">
            <div class="text-center text-sm text-secondary">
                <p>&copy; 2025 NewsBalancer. All rights reserved.</p>
                <p class="mt-2">
                    <a href="/about" class="footer-link">About</a> •
                    <a href="/privacy" class="footer-link">Privacy</a> •
                    <a href="/terms" class="footer-link">Terms</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="/js/main.js" defer></script>
    <script src="/js/pages/articles.js" defer></script>
</body>
</html>
